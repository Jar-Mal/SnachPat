@{
    ViewBag.Title = "Chat";

    var source = TempData["path"];
    if (source is not null)
    {
        source = TempData["path"].ToString();
    }
}

<div class="row">&nbsp;</div>
<div class="row">
    <div class="col-2">User</div>
    <div class="col-4"><input type="text" id="userInput" /></div>
</div>
<div class="row">
    <div class="col-2">Message</div>
    <div class="col-4"><input type="text" id="messageInput" /></div>
    @using (Html.BeginForm("PostPhotoToChat",
"Home",
FormMethod.Post,
new { enctype = "multipart/form-data" }))
    {
        <input type="file" name="photo" id="photo" /><br><br>
        <input type="submit" value="Upload Image" onclick="upload()" />
    }
    <div>
        <input type="text" name="photopath" id="photopath" value="@source" disabled /><br><br>
        <button id="resetButton" src="~/js/chat.js" onclick="ResetPath()">Reset</button>
        <button id="resetButton" src="~/js/chat.js" onclick="GetPath()">Get Image</button>

    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
        <div class="col-6">
            <input type="button" id="sendButton" value="Send Message" />
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <hr />
    </div>
</div>
<div class="row">
    <div class="col-6">
        <ul id="messagesList"></ul>
    </div>
</div>
<script src="~/js/signalr/dist/browser/signalr.js"></script>
<script src="~/js/chat.js" photo-path=@source></script>
